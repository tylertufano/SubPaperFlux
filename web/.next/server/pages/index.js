"use strict";(()=>{var e={};e.id=405,e.ids=[405,660],e.modules={1420:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>b,default:()=>x,getServerSideProps:()=>v,getStaticPaths:()=>h,getStaticProps:()=>m,reportWebVitals:()=>j,routeModule:()=>P,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>g,unstable_getStaticProps:()=>p});var l=t(7093),r=t(5244),i=t(1323),d=t(2899),n=t.n(d),o=t(6814),c=t(6209),u=e([o,c]);[o,c]=u.then?(await u)():u;let x=(0,i.l)(c,"default"),m=(0,i.l)(c,"getStaticProps"),h=(0,i.l)(c,"getStaticPaths"),v=(0,i.l)(c,"getServerSideProps"),b=(0,i.l)(c,"config"),j=(0,i.l)(c,"reportWebVitals"),p=(0,i.l)(c,"unstable_getStaticProps"),g=(0,i.l)(c,"unstable_getStaticPaths"),f=(0,i.l)(c,"unstable_getStaticParams"),S=(0,i.l)(c,"unstable_getServerProps"),N=(0,i.l)(c,"unstable_getServerSideProps"),P=new l.PagesRouteModule({definition:{kind:r.x.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},components:{App:o.default,Document:n()},userland:c});a()}catch(e){a(e)}})},6209:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>x});var l=t(997),r=t(5941),i=t(4985),d=t(5573),n=t(1664),o=t.n(n),c=e([r,i,d]);function u({title:e,value:s,href:t}){let a=(0,l.jsxs)("div",{className:"card p-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:e}),l.jsx("div",{className:"text-2xl font-semibold mt-1",children:s})]});return t?l.jsx(o(),{href:t,children:a}):a}function x(){let{data:e}=(0,r.default)(["/v1/bookmarks/count"],()=>d.v1.countBookmarksV1BookmarksCountGet({})),{data:s}=(0,r.default)(["/v1/jobs",""],()=>d.v1.listJobsV1JobsGet({size:1})),{data:t}=(0,r.default)(["/v1/jobs","failed"],()=>d.v1.listJobsV1JobsGet({status:"failed",size:1})),{data:a}=(0,r.default)(["/v1/jobs","dead"],()=>d.v1.listJobsV1JobsGet({status:"dead",size:1})),{data:n}=(0,r.default)(["/v1/jobs","queued"],()=>d.v1.listJobsV1JobsGet({status:"queued",size:1})),{data:c}=(0,r.default)(["/v1/jobs","in_progress"],()=>d.v1.listJobsV1JobsGet({status:"in_progress",size:1})),{data:x}=(0,r.default)(["/v1/feeds"],()=>d.v1.listFeedsV1V1FeedsGet({size:1})),{data:m}=(0,r.default)(["/v1/credentials"],()=>d.v1.listCredentialsV1V1CredentialsGet({size:1})),{data:h}=(0,r.default)(["/v1/status"],()=>d.v1.getStatusV1StatusGet()),{data:v}=(0,r.default)(["/v1/status/db"],()=>d.v1.dbStatusV1StatusDbGet()),b=e?.total??"—",j=s?.total??"—",p=x?.total??"—",g=m?.total??"—",f=t?.total??0,S=a?.total??0,N=n?.total??0,P=c?.total??0,y=v?.ok===!0,V=v?.details?.pg_trgm_enabled===!0,k=v?.details?.indexes?Object.values(v.details.indexes).every(Boolean):void 0;return(0,l.jsxs)("div",{children:[l.jsx(i.Z,{}),(0,l.jsxs)("main",{className:"container py-6",children:[(0,l.jsxs)("div",{className:"mb-4",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"}),l.jsx("p",{className:"text-gray-700",children:"At-a-glance usage and system health."})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[l.jsx(u,{title:"Bookmarks",value:b,href:"/bookmarks"}),l.jsx(u,{title:"Jobs (total)",value:j,href:"/jobs"}),l.jsx(u,{title:"Feeds",value:p,href:"/feeds"}),l.jsx(u,{title:"Credentials",value:g,href:"/credentials"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,l.jsxs)("div",{className:"card p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold",children:"Jobs Status"}),l.jsx(o(),{href:"/jobs",className:"text-blue-600 hover:underline text-sm",children:"View all"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(u,{title:"Queued",value:N}),l.jsx(u,{title:"In Progress",value:P}),l.jsx(u,{title:"Failed",value:f}),l.jsx(u,{title:"Dead",value:S})]})]}),(0,l.jsxs)("div",{className:"card p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold",children:"Database Health"}),l.jsx(o(),{href:"/admin",className:"text-blue-600 hover:underline text-sm",children:"Admin"})]}),(0,l.jsxs)("ul",{className:"text-sm text-gray-800 space-y-1",children:[(0,l.jsxs)("li",{children:[l.jsx("span",{className:y?"text-green-700":"text-red-700",children:"•"})," Status: ",y?"ok":"check admin"]}),(0,l.jsxs)("li",{children:[l.jsx("span",{className:V?"text-green-700":"text-red-700",children:"•"})," pg_trgm enabled"]}),void 0!==k&&(0,l.jsxs)("li",{children:[l.jsx("span",{className:k?"text-green-700":"text-red-700",children:"•"})," Recommended indexes"]})]})]}),(0,l.jsxs)("div",{className:"card p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("h3",{className:"font-semibold",children:"Service"})}),(0,l.jsxs)("ul",{className:"text-sm text-gray-800 space-y-1",children:[(0,l.jsxs)("li",{children:["API: ",h?.status||"—"]}),(0,l.jsxs)("li",{children:["Version: ",h?.version||"—"]})]})]})]})]})]})}[r,i,d]=c.then?(await c)():c,a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5526:e=>{e.exports=import("next-auth/react")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[899,910,902],()=>t(1420));module.exports=a})();