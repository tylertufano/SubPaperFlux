(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(6209)}])},6209:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return c}});var t=l(5893),a=l(1758),i=l(4985),d=l(5451),n=l(1664),o=l.n(n);function r(e){let{title:s,value:l,href:a}=e,i=(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-600",children:s}),(0,t.jsx)("div",{className:"text-2xl font-semibold mt-1",children:l})]});return a?(0,t.jsx)(o(),{href:a,children:i}):i}function c(){var e,s,l,n,c,u,v,x,m,h;let{data:j}=(0,a.ZP)(["/v1/bookmarks/count"],()=>d.v1.countBookmarksV1BookmarksCountGet({})),{data:b}=(0,a.ZP)(["/v1/jobs",""],()=>d.v1.listJobsV1JobsGet({size:1})),{data:f}=(0,a.ZP)(["/v1/jobs","failed"],()=>d.v1.listJobsV1JobsGet({status:"failed",size:1})),{data:N}=(0,a.ZP)(["/v1/jobs","dead"],()=>d.v1.listJobsV1JobsGet({status:"dead",size:1})),{data:g}=(0,a.ZP)(["/v1/jobs","queued"],()=>d.v1.listJobsV1JobsGet({status:"queued",size:1})),{data:p}=(0,a.ZP)(["/v1/jobs","in_progress"],()=>d.v1.listJobsV1JobsGet({status:"in_progress",size:1})),{data:k}=(0,a.ZP)(["/v1/feeds"],()=>d.v1.listFeedsV1V1FeedsGet({size:1})),{data:_}=(0,a.ZP)(["/v1/credentials"],()=>d.v1.listCredentialsV1V1CredentialsGet({size:1})),{data:P}=(0,a.ZP)(["/v1/status"],()=>d.v1.getStatusV1StatusGet()),{data:V}=(0,a.ZP)(["/v1/status/db"],()=>d.v1.dbStatusV1StatusDbGet()),y=null!==(l=null==j?void 0:j.total)&&void 0!==l?l:"—",J=null!==(n=null==b?void 0:b.total)&&void 0!==n?n:"—",Z=null!==(c=null==k?void 0:k.total)&&void 0!==c?c:"—",w=null!==(u=null==_?void 0:_.total)&&void 0!==u?u:"—",G=null!==(v=null==f?void 0:f.total)&&void 0!==v?v:0,z=null!==(x=null==N?void 0:N.total)&&void 0!==x?x:0,S=null!==(m=null==g?void 0:g.total)&&void 0!==m?m:0,C=null!==(h=null==p?void 0:p.total)&&void 0!==h?h:0,E=(null==V?void 0:V.ok)===!0,B=(null==V?void 0:null===(e=V.details)||void 0===e?void 0:e.pg_trgm_enabled)===!0,D=(null==V?void 0:null===(s=V.details)||void 0===s?void 0:s.indexes)?Object.values(V.details.indexes).every(Boolean):void 0;return(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Z,{}),(0,t.jsxs)("main",{className:"container py-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-gray-700",children:"At-a-glance usage and system health."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,t.jsx)(r,{title:"Bookmarks",value:y,href:"/bookmarks"}),(0,t.jsx)(r,{title:"Jobs (total)",value:J,href:"/jobs"}),(0,t.jsx)(r,{title:"Feeds",value:Z,href:"/feeds"}),(0,t.jsx)(r,{title:"Credentials",value:w,href:"/credentials"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Jobs Status"}),(0,t.jsx)(o(),{href:"/jobs",className:"text-blue-600 hover:underline text-sm",children:"View all"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(r,{title:"Queued",value:S}),(0,t.jsx)(r,{title:"In Progress",value:C}),(0,t.jsx)(r,{title:"Failed",value:G}),(0,t.jsx)(r,{title:"Dead",value:z})]})]}),(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Database Health"}),(0,t.jsx)(o(),{href:"/admin",className:"text-blue-600 hover:underline text-sm",children:"Admin"})]}),(0,t.jsxs)("ul",{className:"text-sm text-gray-800 space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:E?"text-green-700":"text-red-700",children:"•"})," Status: ",E?"ok":"check admin"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:B?"text-green-700":"text-red-700",children:"•"})," pg_trgm enabled"]}),void 0!==D&&(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:D?"text-green-700":"text-red-700",children:"•"})," Recommended indexes"]})]})]}),(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Service"})}),(0,t.jsxs)("ul",{className:"text-sm text-gray-800 space-y-1",children:[(0,t.jsxs)("li",{children:["API: ",(null==P?void 0:P.status)||"—"]}),(0,t.jsxs)("li",{children:["Version: ",(null==P?void 0:P.version)||"—"]})]})]})]})]})]})}}},function(e){e.O(0,[360,561,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);